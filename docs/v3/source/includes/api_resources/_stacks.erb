<% content_for :single_stack do | metadata={} |  %>
{
   "guid": "11c916c9-c2f9-440e-8e73-102e79c4704d",
   "created_at": "2018-11-09T22:43:28Z",
   "updated_at": "2018-11-09T22:43:28Z",
   "name": "my-stack",
   "description": "Here is my stack!",
   "state": "ACTIVE",
   "build_rootfs_image": "my-stack",
   "run_rootfs_image": "my-stack",
   "default": true,
   "metadata": {
     "labels": <%= metadata.fetch(:labels, {}).to_json(space: ' ', object_nl: ' ')%>,
     "annotations": <%= metadata.fetch(:annotations, {}).to_json(space: ' ', object_nl: ' ')%>
   },
   "links": {
      "self": {
         "href": "https://api.example.com/v3/stacks/11c916c9-c2f9-440e-8e73-102e79c4704d"
      }
   }
}
<% end %>

<%content_for :paginated_list_of_stacks do  |base_url| %>
{
  "pagination": {
    "total_results": 3,
    "total_pages": 2,
    "first": {
      "href": "https://api.example.org<%= base_url %>?page=1&per_page=2"
    },
    "last": {
      "href": "https://api.example.org<%= base_url %>?page=2&per_page=2"
    },
    "next": {
      "href": "https://api.example.org<%= base_url %>?page=2&per_page=2"
    },
    "previous": null
  },
  "resources": [
    {
      "guid": "11c916c9-c2f9-440e-8e73-102e79c4704d",
      "created_at": "2018-11-09T22:43:28Z",
      "updated_at": "2018-11-09T22:43:28Z",
      "name": "my-stack-1",
      "build_rootfs_image": "my-stack-1-build",
      "run_rootfs_image": "my-stack-1-run",
      "description": "This is my first stack!",
      "state": "ACTIVE",
      "default": true,
      "metadata": {
        "labels": {},
        "annotations": {}
      },
      "links": {
        "self": {
          "href": "https://api.example.org<%= base_url %>/11c916c9-c2f9-440e-8e73-102e79c4704d"
        }
      }
    },
    {
      "guid": "81c916c9-c2f9-440e-8e73-102e79c4704h",
      "created_at": "2018-11-09T22:43:29Z",
      "updated_at": "2018-11-09T22:43:29Z",
      "name": "my-stack-2",
      "description": "This is my second stack!",
      "build_rootfs_image": "my-stack-2-build",
      "run_rootfs_image": "my-stack-2-run",
      "state": "DEPRECATED",
      "default": false,
      "metadata": {
        "labels": {},
        "annotations": {}
      },
      "links": {
        "self": {
          "href": "https://api.example.org<%= base_url %>/81c916c9-c2f9-440e-8e73-102e79c4704h"
        }
      }
    }
  ]
}

<% end %>

<% content_for :single_stack_disabled do | metadata={} |  %>
{
   "guid": "11c916c9-c2f9-440e-8e73-102e79c4704d",
   "created_at": "2018-11-09T22:43:28Z",
   "updated_at": "2018-11-09T22:43:28Z",
   "name": "my-stack",
   "description": "Here is my stack!",
   "state": "ACTIVE",
   "build_rootfs_image": "my-stack",
   "run_rootfs_image": "my-stack",
   "default": true,
   "metadata": {
     "labels": <%= metadata.fetch(:labels, {}).to_json(space: ' ', object_nl: ' ')%>,
     "annotations": <%= metadata.fetch(:annotations, {}).to_json(space: ' ', object_nl: ' ')%>
   },
   "links": {
      "self": {
         "href": "https://api.example.com/v3/stacks/11c916c9-c2f9-440e-8e73-102e79c4704d"
      }
   }
}
<% end %>
